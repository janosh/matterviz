{
  "name": "matterviz",
  "displayName": "MatterViz",
  "description": "Visualize crystal structures and MD trajectories in VSCode",
  "version": "0.1.5",
  "publisher": "janosh",
  "icon": "icon.png",
  "repository": "https://github.com/janosh/matterviz",
  "categories": [
    "Data Science",
    "Machine Learning",
    "Visualization",
    "Notebooks",
    "Education"
  ],
  "engines": { "vscode": "^1.96.0" },
  "main": "./dist/extension.cjs",
  "activationEvents": ["onStartupFinished"],
  "contributes": {
    "commands": [{
      "command": "matterviz.renderStructure",
      "title": "Render with MatterViz"
    }],
    "keybindings": [{
      "command": "matterviz.renderStructure",
      "key": "ctrl+shift+v",
      "mac": "cmd+shift+v",
      "when": "resourceExtname =~ /\\.(cif|poscar|vasp|xyz|extxyz|traj|gz|h5|hdf5|xdatcar|contcar|outcar|xml|lmp|data|dump|dcd|xtc|trr|pdb|mol|mol2|sdf|mmcif)$/i || resourceFilename =~ /(poscar|contcar|xdatcar|potcar|incar|kpoints|outcar|trajectory|traj|relax|npt|nvt|nve|.*mp-.*\\.json|.*optimade.*\\.json|.*pymatgen.*\\.json|.*structure.*\\.json|.*crystal.*\\.json|.*material.*\\.json|.*lattice.*\\.json|.*geometry.*\\.json|.*unit_?cell.*\\.json|.*phono.*\\.(yaml|yml)|.*structure.*\\.(yaml|yml)|.*crystal.*\\.(yaml|yml)|.*material.*\\.(yaml|yml)|.*lattice.*\\.(yaml|yml)|.*geometry.*\\.(yaml|yml)|.*unit_?cell.*\\.(yaml|yml)|.*vasp.*\\.(yaml|yml)|phono3py.*\\.(yaml|yml)|phonopy.*\\.(yaml|yml))/i"
    }],
    "menus": {
      "explorer/context": [{
        "command": "matterviz.renderStructure",
        "when": "resourceExtname =~ /\\.(cif|poscar|vasp|xyz|extxyz|traj|gz|h5|hdf5|xdatcar|contcar|outcar|xml|lmp|data|dump|dcd|xtc|trr|pdb|mol|mol2|sdf|mmcif)$/i || resourceFilename =~ /(poscar|contcar|xdatcar|potcar|incar|kpoints|outcar|trajectory|traj|relax|npt|nvt|nve|.*mp-.*\\.json|.*optimade.*\\.json|.*pymatgen.*\\.json|.*structure.*\\.json|.*crystal.*\\.json|.*material.*\\.json|.*lattice.*\\.json|.*geometry.*\\.json|.*unit_?cell.*\\.json|.*phono.*\\.(yaml|yml)|.*structure.*\\.(yaml|yml)|.*crystal.*\\.(yaml|yml)|.*material.*\\.(yaml|yml)|.*lattice.*\\.(yaml|yml)|.*geometry.*\\.(yaml|yml)|.*unit_?cell.*\\.(yaml|yml)|.*vasp.*\\.(yaml|yml)|phono3py.*\\.(yaml|yml)|phonopy.*\\.(yaml|yml))/i"
      }]
    },
    "customEditors": [{
      "viewType": "matterviz.viewer",
      "displayName": "MatterViz Viewer",
      "selector": [
        { "filenamePattern": "*.{traj,h5,hdf5,dcd,xtc,trr}" },
        { "filenamePattern": "*.{cif,xyz,extxyz,poscar,json,yaml,yml}.gz" },
        { "filenamePattern": "*{xdatcar,contcar,outcar}" },
        { "filenamePattern": "*{trajectory,relax,npt,nvt,nve}*" }
      ],
      "priority": "option"
    }],
    "configuration": {
      "title": "MatterViz",
      "properties": {
        "matterviz.theme": {
          "type": "string",
          "enum": ["auto", "light", "dark", "white", "black"],
          "default": "auto",
          "description": "Theme for MatterViz visualizations. 'auto' follows VSCode's theme (selecting either 'light' or 'dark'), other options override it."
        },
        "matterviz.autoRender": {
          "type": "boolean",
          "default": true,
          "description": "Automatically render supported file types (structures and trajectories) when opening them. If rendering fails, falls back to regular editor."
        }
      }
    }
  },
  "scripts": {
    "build": "rm -rf dist && vite build --config vite.webview.config.ts && mkdir -p dist/src && cp -r ../../src/lib dist/src/lib/ && vite build",
    "package": "pnpm build && vsce package",
    "ext-install": "pnpm package && code --install-extension matterviz-0.1.5.vsix",
    "test": "vitest"
  },
  "devDependencies": {
    "@sveltejs/vite-plugin-svelte": "^6.1.0",
    "@types/node": "^24.0.14",
    "@types/vscode": "^1.96.0",
    "svelte": "^5.36.6",
    "typescript": "^5.8.3",
    "vite": "^7.0.5",
    "vitest": "^3.2.4"
  }
}
