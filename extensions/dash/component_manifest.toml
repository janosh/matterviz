[meta]
schema_version = 1
matterviz_npm_package = "matterviz"
matterviz_version = "0.2.1"

# Curated typed wrappers.
# Add/remove entries freely; run scripts/sync_typed_wrappers.py to regenerate Python wrappers.

[components.Structure]
key = "structure/Structure"
doc = "3D crystal structure / molecule viewer."

# Structure expects a few props as JS Set / Float32Array; Dash must pass JSON arrays.
# This wrapper defaults set_props/float32_props accordingly.
set_props = ["hidden_elements", "hidden_prop_vals"]

[components.PeriodicTable]
key = "periodic-table/PeriodicTable"
doc = "Interactive periodic table with heatmaps and tooltips."

[components.Composition]
key = "composition/Composition"
doc = "Composition chart (pie/bubble/bar) for a chemical formula or composition dict."

[components.Trajectory]
key = "trajectory/Trajectory"
doc = "Molecular dynamics trajectory viewer with structure + plots."

# Trajectory has an ALL_CAPS prop in TS (ELEM_PROPERTY_LABELS); map to pythonic name.
[components.Trajectory.aliases]
elem_property_labels = "ELEM_PROPERTY_LABELS"

[components.BrillouinZone]
key = "brillouin/BrillouinZone"
doc = "3D Brillouin zone visualization."

[components.ConvexHull2D]
key = "convex-hull/ConvexHull2D"
doc = "2D convex hull phase diagram plot."
# BaseConvexHullProps are imported from index.d.ts; include core props here
include_from = ["convex-hull/index.d.ts:BaseConvexHullProps"]

[components.ConvexHull3D]
key = "convex-hull/ConvexHull3D"
doc = "3D convex hull phase diagram plot."
include_from = [
  "convex-hull/index.d.ts:BaseConvexHullProps",
  "convex-hull/index.d.ts:Hull3DProps",
]
[components.ConvexHull3D.type_hints]
gizmo = "dict | bool | None"

[components.ConvexHull4D]
key = "convex-hull/ConvexHull4D"
doc = "4D convex hull phase diagram plot (for quaternary systems)."
include_from = [
  "convex-hull/index.d.ts:BaseConvexHullProps",
  "convex-hull/index.d.ts:Hull3DProps",
]
[components.ConvexHull4D.type_hints]
gizmo = "dict | bool | None"

[components.IsobaricBinaryPhaseDiagram]
key = "phase-diagram/IsobaricBinaryPhaseDiagram"
doc = "Binary isobaric phase diagram."

[components.XrdPlot]
key = "xrd/XrdPlot"
doc = "X-ray diffraction pattern plot."
# The patterns prop is required but has a complex union type that confuses the parser
[components.XrdPlot.extra_props]
patterns = "XrdPattern | Record<string, XrdPattern | { pattern: XrdPattern; color?: string }> | PatternEntry[]"

[components.Bands]
key = "spectral/Bands"
doc = "Band structure dispersion plot (phonon or electronic)."

[components.Dos]
key = "spectral/Dos"
doc = "Density of states plot (electronic or phonon)."

[components.ScatterPlot]
key = "plot/ScatterPlot"
doc = "General-purpose scatter plot with customizable axes and tooltips."
# Generic component with complex props - add key ones manually
[components.ScatterPlot.extra_props]
series = "DataSeries[]"
x_axis = "{ label?: string; range?: [number | null, number | null]; scale_type?: 'linear' | 'log'; format?: string; ticks?: number | string }?"
y_axis = "{ label?: string; range?: [number | null, number | null]; scale_type?: 'linear' | 'log'; format?: string; ticks?: number | string }?"
height = "number?"
width = "number?"
legend = "LegendConfig | null?"
color_scale = "{ type?: ScaleType; scheme?: string; value_range?: [number, number] } | string?"
size_scale = "{ type?: ScaleType; radius_range?: [number, number]; value_range?: [number, number] }?"
on_point_click = "((data: ScatterHandlerEvent) => void)?"
on_point_hover = "((data: ScatterHandlerEvent | null) => void)?"

[components.Histogram]
key = "plot/Histogram"
doc = "Histogram plot for data distributions."

[components.RdfPlot]
key = "rdf/RdfPlot"
doc = "Radial distribution function (RDF) plot."
